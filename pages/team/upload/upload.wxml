<t-tabs animation="{{ { duration: 0.6 } }}" defaultValue="{{0}}" t-class="custom-tabs" t-class-content="custom-panel" bind:click="onTabsClick">
  <t-tab-panel label="上传文件" value="0" class="firstpage">
    <view capture-catch:touchstart="choosefile" class="firstview">
      <view class="text">请上传活动总结报告</view>
      <view class="wrapper">
        <block wx:if="{{docFiles.length === 0}}">
          <t-upload />
        </block>
        <block wx:else>
          <image src="/images/fileimage.png" class="fileicon"></image>
          <view class="filetext">
            {{teamID? '第'+teamID+'组总结报告' : '总结报告'}}
          </view>
        </block>
      </view>
    </view>
    <view class="secview">
      <view class="text">请上传活动图片或视频</view>
      <view class="firstupload">
        <t-upload media-type="{{['video','image']}}" files="{{imageFiles}}" gridConfig="{{gridConfig}}" config="{{config}}" bind:success="handleSuccess" bind:remove="handleRemove" bind:click="handleClick" />
      </view>
    </view>
    <view class="uploadbutton">
      <t-button theme="light" size="large" bindtap="handleUpload">提交</t-button>
    </view>
    <t-toast id="t-toast" />
  </t-tab-panel>

  <t-tab-panel label="我的文件" value="1">
    <view wx:if="{{!allitem.length}}" class="tip">
      暂无上传文件
    </view>
    <view wx:else>
      <view wx:if="{{fileitem.length>0}}">
        <view class="text">活动总结文档</view>
        <view class="secwrapper">
          <view>
            <image src="/images/fileimage.png" class="fileicon"></image>
          </view>
          <view class="secfiletext">
            <text>{{teamID? '第'+teamID+'组总结报告' : '总结报告'}}</text>
          </view>
          <view class="upbutton">
            <t-button size="small" variant="text" data-type="file" bindtap="delFunc">删除</t-button>
          </view>
        </view>
      </view>
      <view wx:if="{{imageitem.length>0}}">
        <view class="imagetitle">
          <view class="text">活动图片和视频</view>
          <view wx:if="{{!showdel}}">
            <image src="/images/delicon.png" class="delicon" bind:tap="showDel"></image>
          </view>
          <view wx:else>
            <image src="/images/cancel.png" class="delicon" bind:tap="showDel"></image>
          </view>
        </view>
        <view class="loading-container-flex" wx:if="{{loading}}">
          <t-loading theme="spinner" size="40rpx" />
        </view>
        <view class="wrapper">
          <view class="tr">
            <view wx:for="{{imagesrc}}" wx:key="{{item.name}}" class="col" wx:for-index="index">
              <t-image src="{{item.url}}" width="90" height="90" shape="round" />
              <view wx:if="{{showdel}}" class="imgDelButton" bindtap="delFunc" data-index="{{index}}" data-type="image"></view>
            </view>
          </view>
        </view>
      </view>
    </view>
  </t-tab-panel>
</t-tabs>